(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var s in t)e.o(t,s)&&!e.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:t[s]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=window.wp.blocks,t=window.wp.components,s=window.wp.serverSideRender;var o=e.n(s);const i=window.wp.blockEditor,n=window.wp.element,l=window.wp.data,p=window.ReactJSXRuntime;(0,r.registerBlockType)("fmwp-block/fmwp-user-replies",{edit:function(e){const r=(0,i.useBlockProps)(),{attributes:s,setAttributes:u}=e,{user_id:a}=s,d=(0,l.useSelect)((e=>e("core").getEntityRecords("root","user",{per_page:-1,_fields:["id","name","username"]})),[]);return(0,n.useMemo)((()=>{let e="[fmwp_user_replies";return a&&(e+=` user_id="${a}"`),e+="]",e}),[a]),(0,p.jsxs)("div",{...r,children:[(0,p.jsx)(o(),{block:"fmwp-block/fmwp-user-replies",attributes:s}),(0,p.jsx)(i.InspectorControls,{children:(0,p.jsx)(t.PanelBody,{title:wp.i18n.__("User replies Settings","forumwp"),children:(0,p.jsx)(t.SelectControl,{label:wp.i18n.__("User","forumwp"),value:a,options:[{label:wp.i18n.__("Select a User","forumwp"),value:""},...d?d.map((e=>({label:e.name||e.username,value:e.id}))):[]],onChange:e=>u({user_id:e})})})})]})},save:()=>null}),jQuery(window).on("load",(function(){new MutationObserver((e=>{e.forEach((e=>{jQuery(e.addedNodes).find(".fmwp-user-replies").each((function(){jQuery(".fmwp-user-replies").each((function(){fmwp_user_replies(jQuery(this).find(".fmwp-replies-wrapper"),{page:1,user_id:jQuery(this).data("user_id")})}))}))}))})).observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})})),wp.hooks.addAction("fmwp_user_replies_load_finish","fmwp_user_replies_load_finish_block",(()=>{const e=document.querySelector(".fmwp-user-replies");e&&e.addEventListener("click",(r=>{r.target!==e&&(r.preventDefault(),r.stopPropagation())}))}))})();